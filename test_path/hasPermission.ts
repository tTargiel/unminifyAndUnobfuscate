function module(e,i,o){let l,s,r;o.export({hasAllPermission:()=>m,hasAtLeastOnePermission:()=>c,userHasAllPermission:()=>v,hasPermission:()=>p,willHavePermission:()=>y}),o.link("meteor/meteor",{Meteor(e){l=e}},0),o.link("../../models/client",{"*"(e){s=e}},1),o.link("../lib/AuthorizationUtils",{AuthorizationUtils(e){r=e}},2);let n=e=>"string"==typeof e&&e in s,t=e=>"object"==typeof e&&null!==e&&"function"==typeof e.isUserInRole,d=e=>(i,o,l,d)=>{let u=s.Users.findOneById(l,{fields:{roles:1}}),a=e.bind(i);return a(e=>{var i;if(null!=u&&u.roles&&r.isPermissionRestrictedForRoleList(e,u.roles))return!1;let a=s.ChatPermissions.findOne(e,{fields:{roles:1}}),f=null!==(i=null==a?void 0:a.roles)&&void 0!==i?i:[];return f.some(e=>{let i=s.Roles.findOne(e,{fields:{scope:1}}),r=null==i?void 0:i.scope;if(!n(r))return!1;let u=s[r];return!!(null!=d&&d.includes(e))||(t(u)?u.isUserInRole(l,e,o):void 0)})})},u=d(Array.prototype.some),a=d(Array.prototype.every),f=(e,i,o,r,n)=>{var t;return!!((r=null!==(t=r)&&void 0!==t?t:l.userId())&&s.AuthzCachedCollection.ready.get())&&o([].concat(e),i,r,n)},m=(e,i,o)=>f(e,i,a,void 0,o),c=(e,i)=>f(e,i,u),v=(e,i,o)=>f(e,i,a,o),p=m,y=(e,i)=>f(e,void 0,a,void 0,i)}
//# sourceMappingURL=/dynamic/app/authorization/client/1a80a8375f5ab873acfcf269319fcef92024b830.map
